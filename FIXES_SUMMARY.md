# ููุฎุต ุงูุฅุตูุงุญุงุช ูุงูุชุญุณููุงุช - ุจูุช ุงูุฑูู

## ๐ฏ ุงููุดุงูู ุงูุชู ุชู ุญููุง

### 1. โ ุฅุถุงูุฉ ููุน ูุฑุนู ูููุฒูุฏูู (Provider Sub-type)

**ุงููุดููุฉ**: ูู ููู ููุงู ุชูููุฒ ุจูู ุงูุดุฑูุงุช (ุจุฑุฎุตุฉ) ูุงูุญุฑูููู (ุจุฏูู ุฑุฎุตุฉ).

**ุงูุญู**:
- ุฅุถุงูุฉ ุนููุฏ `provider_subtype` ูู ุฌุฏูู `profiles`
- ุฎูุงุฑุงุช: `company` (ุดุฑูุฉ ุจุฑุฎุตุฉ) ุฃู `craftsman` (ุญุฑูู ุจุฏูู ุฑุฎุตุฉ)
- ุชุญุฏูุซ `UserTypeModal` ูุนุฑุถ ุฎูุงุฑุงุช ูุฑุนูุฉ ูููุฒูุฏูู
- ูุงุฌูุฉ ูุณุชุฎุฏู ุฌุฏูุฏุฉ ูุน ุฃููููุงุช ูุงุถุญุฉ (Briefcase ููุดุฑูุงุชุ Wrench ููุญุฑูููู)

**ุงููููุงุช ุงููุนุฏูุฉ**:
- `supabase_migration_provider_subtype.sql` - SQL migration ุฌุฏูุฏ
- `client/src/components/UserTypeModal.tsx` - ูุงุฌูุฉ ูุญุณูุฉ
- `client/src/pages/AuthCallback.tsx` - ุฏุนู provider_subtype
- `client/src/hooks/useProfile.ts` - ุฅุถุงูุฉ provider_subtype ููู interface

---

### 2. โ ุฅุตูุงุญ ุฃุฎุทุงุก ูุงูุฐุฉ ุงูุชูุซูู (Verification Modal)

**ุงููุดุงูู**:
- ุฑุณุงูุฉ ุฎุทุฃ ุชุธูุฑ ููุง ูููู ุฅุบูุงููุง
- ุฃุฒุฑุงุฑ "ุณุฃูุซู ูุงุญูุงู" ู "X" ูุง ุชุณุชุฌูุจ
- ุนุฏู ูุฌูุฏ validation ูุงุถุญ ููุญููู ุงููุทููุจุฉ
- ุฑุฎุตุฉ ุงูุนูู ูุทููุจุฉ ููุฌููุน (ุญุชู ุงูุญุฑูููู)

**ุงูุญู**:
- ุฅุถุงูุฉ validation ุดุงูู ูุจู ุงูุฅุฑุณุงู
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููุญุฏุฏุฉ
- ููุน ุงูุฅุบูุงู ุฃุซูุงุก ุงูุฑูุน (uploading)
- ุฑุฎุตุฉ ุงูุนูู ูุทููุจุฉ **ููุท ููุดุฑูุงุช** (company)
- ุฑุณุงูุฉ ุชูุถูุญูุฉ ููุญุฑูููู: "ูุญุฑููุ ูุง ุชุญุชุงุฌ ุฅูู ุฑุฎุตุฉ ุชุฌุงุฑูุฉ"
- ุชุญุณูู feedback ูููุณุชุฎุฏู (ุนุฑุถ ุงุณู ุงูููู ุงููุฑููุน)
- ุฅุถุงูุฉ `type="button"` ูุฌููุน ุงูุฃุฒุฑุงุฑ ูููุน form submission ุบูุฑ ุงูููุตูุฏ

**ุงููููุงุช ุงููุนุฏูุฉ**:
- `client/src/components/VerificationModal.tsx` - ุฅุตูุงุญุงุช ุดุงููุฉ

---

### 3. โ ูุงูุฐุฉ ููุน ุงููุณุชุฎุฏู ุชุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท

**ุงูุชุฃููุฏ**: ุงููุธุงู ุงูุญุงูู ูุนูู ุจุดูู ุตุญูุญ:
- ูุงูุฐุฉ ุงุฎุชูุงุฑ ููุน ุงููุณุชุฎุฏู ุชุธูุฑ ููุท ุนูุฏ **ุฃูู ุชุณุฌูู ุฏุฎูู**
- ุจุนุฏ ุญูุธ `user_type` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุง ุชุธูุฑ ุงููุงูุฐุฉ ูุฑุฉ ุฃุฎุฑู
- ุงููุณุชุฎุฏู ูุชู ุชูุฌููู ูุจุงุดุฑุฉ ุฅูู ุงููุงุฌูุฉ ุงูููุงุณุจุฉ (ุนููู/ูุฒูุฏ)

---

## ๐ ุงูุชุญุณููุงุช ุงูุฅุถุงููุฉ

### ุชุญุณููุงุช UX/UI:
- โ ุฃููููุงุช ูุงุถุญุฉ ููู ููุน ูุณุชุฎุฏู
- โ ุฃููุงู ูููุฒุฉ ููุฎูุงุฑุงุช ุงููุญุฏุฏุฉ
- โ ุฑุณุงุฆู ุชูุถูุญูุฉ ููู ุฎูุงุฑ
- โ Loader ุฃุซูุงุก ุงูุฑูุน
- โ ุฑุณุงูุฉ ูุฌุงุญ ุจุนุฏ ุงูุฅุฑุณุงู: "ุณูุชู ูุฑุงุฌุนุฉ ูุณุชูุฏุงุชู ุฎูุงู 24-48 ุณุงุนุฉ"

### ุชุญุณููุงุช ุชูููุฉ:
- โ Type safety ูุงูู ูู TypeScript
- โ Error handling ูุญุณูู
- โ Validation ุดุงูู
- โ Database schema ูุญุฏุซ

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏูู: `profiles`

```sql
CREATE TABLE profiles (
  id UUID PRIMARY KEY,
  user_type TEXT CHECK (user_type IN ('client', 'provider')),
  provider_subtype TEXT CHECK (provider_subtype IN ('company', 'craftsman')),
  phone TEXT,
  location TEXT,
  verification_status TEXT DEFAULT 'unverified',
  is_verified BOOLEAN DEFAULT false,
  business_license_url TEXT,
  id_photo_url TEXT,
  company_name TEXT,
  company_description TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

## ๐ ุณูุฑ ุงูุนูู (Workflow)

### 1. ุชุณุฌูู ุฏุฎูู ุฌุฏูุฏ:
1. ุงููุณุชุฎุฏู ูุณุฌู ุงูุฏุฎูู (Email Magic Link / OAuth)
2. **ูุงูุฐุฉ ุงุฎุชูุงุฑ ููุน ุงููุณุชุฎุฏู** (ุฅูุฒุงููุฉ):
   - ุนููู
   - ูุฒูุฏ โ ุงุฎุชูุงุฑ ูุฑุนู (ุดุฑูุฉ/ุญุฑูู)
3. **ูุงูุฐุฉ ุงูุชูุซูู** (ุงุฎุชูุงุฑูุฉ):
   - ุฑูู ุงููุงุชู (ุฅูุฒุงูู)
   - ุงููููุน (ุฅูุฒุงูู)
   - ุตูุฑุฉ ุงููููุฉ (ุฅูุฒุงูู)
   - ุฑุฎุตุฉ ุงูุนูู (ุฅูุฒุงูู ููุดุฑูุงุช ููุท)
4. ุชูุฌูู ุฅูู ุงููุงุฌูุฉ ุงูููุงุณุจุฉ

### 2. ุชุณุฌูู ุฏุฎูู ูุชูุฑุฑ:
1. ุงููุณุชุฎุฏู ูุณุฌู ุงูุฏุฎูู
2. **ูุง ุชุธูุฑ ูุงูุฐุฉ ุงุฎุชูุงุฑ ููุน ุงููุณุชุฎุฏู**
3. ุชูุฌูู ูุจุงุดุฑ ุฅูู ุงููุงุฌูุฉ ุงูููุงุณุจุฉ

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

```
client/src/
โโโ components/
โ   โโโ UserTypeModal.tsx (ูุญุณูู ุจุงููุงูู)
โ   โโโ VerificationModal.tsx (ุฅุตูุงุญุงุช ุดุงููุฉ)
โโโ pages/
โ   โโโ AuthCallback.tsx (ุฏุนู provider_subtype)
โโโ hooks/
    โโโ useProfile.ts (ุฅุถุงูุฉ provider_subtype)

supabase_migration_provider_subtype.sql (ุฌุฏูุฏ)
```

---

## โ ุงูุงุฎุชุจุงุฑ

### ุชู ุงุฎุชุจุงุฑ:
- โ ุชุณุฌูู ุฏุฎูู ุฌุฏูุฏ (ุนููู)
- โ ุชุณุฌูู ุฏุฎูู ุฌุฏูุฏ (ูุฒูุฏ - ุดุฑูุฉ)
- โ ุชุณุฌูู ุฏุฎูู ุฌุฏูุฏ (ูุฒูุฏ - ุญุฑูู)
- โ ุฑูุน ูุณุชูุฏุงุช (ูุน validation)
- โ ุชุฎุทู ุงูุชูุซูู ("ุณุฃูุซู ูุงุญูุงู")
- โ ุฅุบูุงู ุงููุงูุฐุฉ (X)
- โ ุฑุณุงุฆู ุงูุฎุทุฃ
- โ ุงูุจูุงุก (Build) ุจุฏูู ุฃุฎุทุงุก

---

## ๐ ุงููุดุฑ

- โ **GitHub**: ุชู ุฑูุน ุฌููุน ุงูุชุญุฏูุซุงุช
- โ **Vercel**: ุณูุชู ุงููุดุฑ ุชููุงุฆูุงู ุนูุฏ push
- โ **Supabase**: ุชู ุชุทุจูู SQL migration

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ูููุทูุฑูู:
1. **ุฑุฎุตุฉ ุงูุนูู**: ูุทููุจุฉ ููุท ููุดุฑูุงุช (`provider_subtype === 'company'`)
2. **Validation**: ูุชู ูู ุงูู frontend ูุจู ุงูุฅุฑุณุงู
3. **Error Handling**: ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
4. **UX**: ููุน ุงูุฅุบูุงู ุฃุซูุงุก ุงูุฑูุน

### ูููุณุชุฎุฏููู:
1. **ุงูุชูุซูู**: ุงุฎุชูุงุฑู ูููู ููุตู ุจู
2. **ุงููุฑุงุฌุนุฉ**: 24-48 ุณุงุนุฉ ุจุนุฏ ุฑูุน ุงููุณุชูุฏุงุช
3. **ุงูุญุฑูููู**: ูุง ูุญุชุงุฌูู ุฑุฎุตุฉ ุชุฌุงุฑูุฉ
4. **ุงูุดุฑูุงุช**: ูุฌุจ ุฑูุน ุฑุฎุตุฉ ุงูุนูู

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุงูููุตุฉ ุงูุขู **ุฌุงูุฒุฉ ููุฅูุชุงุฌ** ูุน:
- โ ุชูููุฒ ูุงุถุญ ุจูู ุฃููุงุน ุงููุณุชุฎุฏููู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
- โ Validation ุดุงูู
- โ Error handling ููู
- โ Database schema ูุญุฏุซ
- โ Code quality ุนุงูู

**ูู ุดูุก ูุนูู ุจุดูู ูุซุงูู!** ๐
